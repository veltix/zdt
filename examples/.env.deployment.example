# ZDT Deployment Configuration
# Place this file in {DEPLOY_PATH}/shared/.env.deployment on your server
# This allows deployments from any location without passing environment variables

# Required: SSH Connection
DEPLOY_HOST=your-server.com
DEPLOY_USERNAME=deploy
DEPLOY_KEY_PATH=~/.ssh/id_rsa
DEPLOY_PORT=22

# Required: Deployment Settings
DEPLOY_REPO_URL=git@github.com:your-username/your-repo.git
DEPLOY_PATH=/var/www/your-app
DEPLOY_BRANCH=main

# Optional: Release Management
DEPLOY_KEEP_RELEASES=5
DEPLOY_TIMEOUT=300

# Optional: Health Checks
DEPLOY_HEALTH_CHECK_ENABLED=true
DEPLOY_HEALTH_CHECK_URL=https://your-app.com/health
DEPLOY_HEALTH_CHECK_TIMEOUT=30

# Optional: Database Backups
DEPLOY_DB_BACKUP_ENABLED=true
DEPLOY_DB_CONNECTION=mysql
DEPLOY_DB_HOST=localhost
DEPLOY_DB_PORT=3306
DEPLOY_DB_DATABASE=your_database
DEPLOY_DB_USERNAME=your_user
DEPLOY_DB_PASSWORD=your_password
DEPLOY_DB_KEEP_BACKUPS=5

# Optional: Notifications
DEPLOY_NOTIFICATION_WEBHOOK=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# Optional: Deployment Hooks
DEPLOY_HOOKS_AFTER_CLONE="composer install --no-dev --optimize-autoloader"
DEPLOY_HOOKS_BEFORE_ACTIVATE="php artisan migrate --force\nphp artisan config:cache\nphp artisan route:cache\nphp artisan view:cache"
DEPLOY_HOOKS_AFTER_ACTIVATE="php artisan queue:restart"
